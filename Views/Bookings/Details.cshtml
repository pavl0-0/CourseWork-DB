@model Kino.Models.Booking

@{
    ViewData["Title"] = "Деталі замовлення";
}

<div class="container" style="margin-top: 50px;">

    <div class="cinema-form-card" style="max-width: 800px;">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="m-0">Замовлення #@Model.BookingId</h2>

            @if (Model.Status == "Paid")
            {
                <span class="badge bg-success" style="font-size: 1rem;">ОПЛАЧЕНО</span>
            }
            else
            {
                <span class="badge bg-warning text-dark" style="font-size: 1rem;">@Model.Status</span>
            }
        </div>

        <div class="row mb-4" style="border-bottom: 1px solid #444; padding-bottom: 20px;">
            <div class="col-md-6">
                <h5 class="text-muted">Клієнт</h5>
                <p style="font-size: 1.1rem;">@Model.Client.FirstName @Model.Client.LastName</p>
                <p class="text-muted small">@Model.Client.Email | @Model.Client.PhoneNumber</p>
            </div>
            <div class="col-md-6 text-end">
                <h5 class="text-muted">Дата покупки</h5>
                <p style="font-size: 1.1rem;">@Model.BookingTime.ToString("dd MMMM yyyy, HH:mm")</p>
            </div>
        </div>

        <h4 class="mb-3">🎟️ Квитки в цьому замовленні</h4>
        <table class="table table-dark table-sm">
            <thead>
                <tr>
                    <th>Фільм</th>
                    <th>Зал</th>
                    <th>Місце</th>
                    <th class="text-end">Ціна</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var ticket in Model.Tickets)
                {
                    <tr>
                        <td>
                            <strong>@ticket.Session.Film.TitleUkrainian</strong><br />
                            <small class="text-muted">@ticket.Session.StartTime.ToString("dd.MM HH:mm")</small>
                        </td>
                        <td>Зал @ticket.Session.Hall.HallNumber</td>
                        <td>
                            Ряд @ticket.Seat.RowNumber, Місце @ticket.Seat.SeatNumber
                        </td>
                        <td class="text-end">@ticket.Price.ToString("0") грн</td>
                    </tr>
                }
            </tbody>
            <tfoot>
                <tr style="border-top: 2px solid #555;">
                    <td colspan="3" class="text-end"><strong>ВСЬОГО:</strong></td>
                    <td class="text-end" style="color: var(--accent-color); font-size: 1.2rem; font-weight: bold;">
                        @Model.TotalAmount.ToString("0.00") грн
                    </td>
                </tr>
            </tfoot>
        </table>

        <div class="text-center mt-4">
            <a asp-action="Index" class="btn-secondary">← Назад до списку</a>
        </div>
    </div>
</div>